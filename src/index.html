<!DOCTYPE html>
<html>

<head>
    <title>Pes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="../styles.css">
</head>

<div>
</div>

<body>
    <p class="warning" data-bind="visible:compassNotAvailable">Compass not available</p>
    <i data-bind="visible:environmentInitialized() === false">Loading...</i>
    <button class="btn wide large red" data-bind="visible:environmentInitialized() && !gameStarted(),click:startApp">Run Game!</button>

    <div data-bind="visible:gameStarted">
        <button class="btn wide large green" data-bind="click:shoot,visible:player.isAlive">Shoot!</button>
        <button class="btn wide large grey" data-bind="click:restart,visible:player.isAlive() === false">Restart!</button>
    </div>

    <div data-bind="if: debugMode">
        <table class="debug">
            <tr>
                <td>Orientation</td>
                <td data-bind="text: player.orientation"></td>
            </tr>
            <tr>
                <td>Frags Count</td>
                <td data-bind="text: player.fragsCount"></td>
            </tr>
            <tr>
                <td>Settings['ShotDistanceTolerance']</td>
                <td data-bind="text: settings.shotDistanceTolerance"></td>
            </tr>
            <tr>
                <td>Settings['TimeToReachPlayer']</td>
                <td data-bind="text: settings.timeToReachPlayer"></td>
            </tr>
            <tr>
                <td>Settings['TimeToRecreateCreature']</td>
                <td data-bind="text: settings.timeToRecreateCreature"></td>
            </tr>
            <tr>
                <td>Settings['numberOfCreaturesAtTheBeginning']</td>
                <td data-bind="text: settings.numberOfCreaturesAtTheBeginning"></td>
            </tr>
        </table>
    </div>

    <!-- module init -->
    <script>
    window.AudioContext = window.AudioContext || window.webkitAudioContext;
    window.P = {};
    </script>

    <!-- libs -->
    <script src="../lib/zepto/zepto.js"></script>
    <script src="../lib/knockout/knockout.js"></script>
    <script src="../lib/cp.js"></script>

    <!-- modules -->
    <script src="./modules/settings.js"></script>
    <script src="./modules/bufferLoader.js"></script>
    <script src="./modules/sound.js"></script>
    <script src="./modules/shot.js"></script>
    <script src="./modules/player.js"></script>
    <script src="./modules/creature.js"></script>
    <script src="./modules/creaturesList.js"></script>
    <script src="./modules/compass.js"></script>
    <script src="./modules/soundManager.js"></script>
    <script src="./modules/game.js"></script>

    <!-- main -->
    <script src="./main.js"></script>

    <!-- fast active -->
    <script>
    (function(a, c, d) {
        if ("ontouchstart" in c || c.a && a instanceof DocumentTouch) {
            var b = null,
                e = function() {
                    b && (b.classList.remove(d), b = null)
                };
            a.documentElement.classList.add("touch");
            a.documentElement.classList.remove("no-touch");
            a.body.addEventListener("touchstart", function(a) {
                e();
                "A" == a.target.tagName && (b = a.target, b.classList.add(d))
            }, !1);
            a.body.addEventListener("touchmove", e, !1)
        } else a.documentElement.className += " no-touch"
    })(document, window, "active");
    </script>
</body>

</html>
